<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Jogo da Velha</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <h1>Jogo da velha</h1>
    <div class="container">
        <h2>Vez do Jogador: <span class="jogador"></span></h2>
        <div class="jogo">
            <div id="0" class="posicao" onclick="abrir(0)"></div>
            <div id="1" onclick="abrir(1)" class="posicao"></div>
            <div id="2" onclick="abrir(2)" class="posicao"></div>
            <div id="3" onclick="abrir(3)" class="posicao"></div>
            <div id="4" onclick="abrir(4)" class="posicao"></div>
            <div id="5" onclick="abrir(5)" class="posicao"></div>
            <div id="6" onclick="abrir(6)" class="posicao"></div>
            <div id="7" onclick="abrir(7)" class="posicao"></div>
            <div id="8" onclick="abrir(8)" class="posicao"></div>
        </div>
        <button type="button" class="apagar" name="apagar">Resetar</button>

    </div>
    <h3>Vencedor: <span id="vencedor"></span></h3>
    <script>
        var resultadoFinal = document.getElementById("vencedor");
        var elementos = [];
        var vez = 0;

        var jogador = document.querySelector(".jogador");
        jogador.textContent = "Jogador 1";
        for (let index = 0; index < 9; index++) {
            elementos[index] = document.getElementById(index);
        }
        var apagar = document.getElementsByTagName("button")[0];
        function abrir(id) {
            if (elementos[id].textContent == "") {
                if (vez % 2 == 0) {
                    elementos[id].textContent = "X";
                    jogador.textContent = "Jogador 2";
                } else if (vez % 2 == 1) {
                    elementos[id].textContent = "0";
                    jogador.textContent = "Jogador 1";
                }
                vez++;
            }
            resultado();
        }
        apagar.addEventListener('click', reset);
        function reset() {
            for (var index = 0; index < 9; index++) {
                elementos[index].textContent = "";
            }
            alert("Jogo resetado");
            location.reload();
        }
        function resultado() {
            for (let i = 0; i < 3; i++) {
                if (elementos[3 * i].textContent == elementos[(3 * i) + 1].textContent && elementos[3 * i].textContent == elementos[(3 * i) + 2].textContent && elementos[3 * i].textContent != "") {
                    vencedor(elementos[3 * i].textContent);
                }
            }
            if (elementos[0].textContent == elementos[4].textContent && elementos[0].textContent == elementos[8].textContent && elementos[0].textContent != "") {
                vencedor(elementos[0].textContent);
            }
            if(elementos[2].textContent == elementos[4].textContent && elementos[2].textContent == elementos[6].textContent && elementos[2].textContent !=""){
                vencedor(elementos[2].textContent);
            }
            if (elementos[0].textContent == elementos[3].textContent && elementos[0].textContent == elementos[6].textContent && elementos[0].textContent != "") {
                vencedor(elementos[0].textContent);
            }
            if (elementos[1].textContent == elementos[4].textContent && elementos[1].textContent == elementos[7].textContent && elementos[1].textContent != "") {
                vencedor(elementos[2].textContent);
            }
            if (elementos[2].textContent == elementos[5].textContent && elementos[2].textContent == elementos[8].textContent && elementos[2].textContent != "") {
                vencedor(elementos[2].textContent);
            }
        }
        function vencedor(value) {
            if (value == "X") {
                resultadoFinal.textContent = "Hugo";
            } else {
                resultadoFinal.textContent = "JosuÃ©";
            }
        }
    </script>
</body>

</html>